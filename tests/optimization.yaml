
- test: jump optimization in if statement
  source: |
    if (true && false ) || (true && false) {
      println("Ola");
    } else {
      println("Oi");
    }
  args: "-c"
  out: |+
    ; main
    ; 0 parameter(s), 2 constant(s), 18 instruction(s), 0 function(s)
      0             PUSH_TRUE      
      1             JUMP_IF_FALSE   4    
      2             PUSH_FALSE     
      3             JUMP_IF_TRUE    8    
      4             PUSH_TRUE      
      5             JUMP_IF_FALSE   13   
      6             PUSH_FALSE     
      7             JUMP_IF_FALSE   13   
      8      2      LOAD_GLOBAL     41   
      9             LOAD_CONST      0    
      10            CALL            1    
      11     3      POP            
      12            JUMP            17   
      13     4      LOAD_GLOBAL     41   
      14            LOAD_CONST      1    
      15            CALL            1    
      16     5      POP            
      17     6      RETURN_NIL     
    
- test: jump optimization in while loop
  source: |
    while (true && false ) || (true && false) {
      println("Ola");
    }
  args: "-c"
  out: |+
    ; main
    ; 0 parameter(s), 1 constant(s), 14 instruction(s), 0 function(s)
      0             PUSH_TRUE      
      1             JUMP_IF_FALSE   4    
      2             PUSH_FALSE     
      3             JUMP_IF_TRUE    8    
      4             PUSH_TRUE      
      5             JUMP_IF_FALSE   13   
      6             PUSH_FALSE     
      7             JUMP_IF_FALSE   13   
      8      2      LOAD_GLOBAL     41   
      9             LOAD_CONST      0    
      10            CALL            1    
      11     3      POP            
      12     4      JUMP            0    
      13            RETURN_NIL     
    
- test: jump optimization in if assignment
  source: |
    let a = if (true && false ) || (true && false) { "Ola" } else { "Alo" };
  args: "-c"
  out: |+
    ; main
    ; 0 parameter(s), 2 constant(s), 12 instruction(s), 0 function(s)
      0             PUSH_TRUE      
      1             JUMP_IF_FALSE   4    
      2             PUSH_FALSE     
      3             JUMP_IF_TRUE    8    
      4             PUSH_TRUE      
      5             JUMP_IF_FALSE   10   
      6             PUSH_FALSE     
      7             JUMP_IF_FALSE   10   
      8             LOAD_CONST      0    
      9             JUMP            11   
      10            LOAD_CONST      1    
      11     2      RETURN_NIL     
    
- test: jump optimization (nested)
  source: |
    while (true || false ) && (true || false) {
      if (true && false ) || (true && false) {
        if (true && false ) || (true && false) {
          let a = if (true || false ) && (true || false) { "Ola" } else { "Alo" };
          println(a);
        } else {
          println("2");
        }
      } else {
        println("3");
      }
    }
  args: "-c"
  out: |+
    ; main
    ; 0 parameter(s), 4 constant(s), 52 instruction(s), 0 function(s)
      0             PUSH_TRUE      
      1             JUMP_IF_TRUE    4    
      2             PUSH_FALSE     
      3             JUMP_IF_FALSE   51   
      4             PUSH_TRUE      
      5             JUMP_IF_TRUE    8    
      6             PUSH_FALSE     
      7             JUMP_IF_FALSE   51   
      8      2      PUSH_TRUE      
      9             JUMP_IF_FALSE   12   
      10            PUSH_FALSE     
      11            JUMP_IF_TRUE    16   
      12            PUSH_TRUE      
      13            JUMP_IF_FALSE   46   
      14            PUSH_FALSE     
      15            JUMP_IF_FALSE   46   
      16     3      PUSH_TRUE      
      17            JUMP_IF_FALSE   20   
      18            PUSH_FALSE     
      19            JUMP_IF_TRUE    24   
      20            PUSH_TRUE      
      21            JUMP_IF_FALSE   41   
      22            PUSH_FALSE     
      23            JUMP_IF_FALSE   41   
      24     4      PUSH_TRUE      
      25            JUMP_IF_TRUE    28   
      26            PUSH_FALSE     
      27            JUMP_IF_FALSE   34   
      28            PUSH_TRUE      
      29            JUMP_IF_TRUE    32   
      30            PUSH_FALSE     
      31            JUMP_IF_FALSE   34   
      32            LOAD_CONST      0    
      33            JUMP            35   
      34            LOAD_CONST      1    
      35     5      LOAD_GLOBAL     41   
      36            LOAD_LOCAL      1    
      37            CALL            1    
      38     6      POP            
      39            POP            
      40            JUMP            45   
      41     7      LOAD_GLOBAL     41   
      42            LOAD_CONST      2    
      43            CALL            1    
      44     8      POP            
      45     9      JUMP            50   
      46     10     LOAD_GLOBAL     41   
      47            LOAD_CONST      3    
      48            CALL            1    
      49     11     POP            
      50     13     JUMP            0    
      51            RETURN_NIL     
    
